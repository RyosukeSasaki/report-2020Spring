%ここからソースコードの表示に関する設定
\lstset{
  basicstyle={\ttfamily},
  identifierstyle={\small},
  commentstyle={\smallitshape},
  keywordstyle={\small\bfseries},
  ndkeywordstyle={\small},
  stringstyle={\small\ttfamily},
  frame={tb},
  breaklines=true,
  columns=[l]{fullflexible},
  numbers=left,
  xrightmargin=0zw,
  xleftmargin=3zw,
  numberstyle={\scriptsize},
  stepnumber=1,
  numbersep=1zw,
  lineskip=-0.5ex
}
%ここまでソースコードの表示に関する設定
\appendix
\section{ソースコード}
\begin{lstlisting}[caption=メインプログラム]
program main
  use consts_variables
  implicit none
  integer, parameter :: interval = 10
  integer :: i, j
  !call omp_set_num_threads(8)

  dt = 0.0005
  call InitParticles()
  call calcConsts()
  call output(0)
  do i = 1, 800
  do j = 1, interval
    call calcGravity()
    call calcViscosity()
    call moveParticleExplicit()
    call collision()
    call calcNumberDensity()
    call setBoundaryCondition()
    call setSourceTerm()
    call setMatrix()
    call GaussEliminateMethod()
    call removeNegativePressure()
    call setMinPressure()
    call calcPressureGradient()
    call moveParticleImplicit()
  enddo
  write (*, *) "Timestep: ", i*interval
  call output(i)
  enddo

end
\end{lstlisting}
\input{code/output.tex}
\input{code/define.tex}
\input{code/func.tex}
\input{code/init.tex}
\input{code/calcconst.tex}
\input{code/calcExplicit.tex}
\input{code/calcImplicit.tex}